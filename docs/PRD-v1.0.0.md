# 个人周度记录与提醒工具 — 产品需求文档 (PRD)

## 一、产品概述

**产品名称**：周度目标记录器（暂定）  
**形态**：H5 单页应用（移动端优先，兼容桌面）  
**本质**：记录 + 提醒工具，用于不规律、分次记录每周目标完成情况。

---

## 二、核心需求

### 2.1 健身目标（当前）

| 维度 | 说明 |
|------|------|
| 周目标总时长 | 5 小时/周 |
| 记录方式 | 每次运动后可通过时间拨盘自行增加该项任务的时间记录（如篮球/健身房均可不定次数与时长） |

**功能要点**：提供时间拨盘界面，自由灵活记录每次运动类型与时长（次数与时间不限），系统自动汇总本周进度并与目标对比。

### 2.2 Vibe Coding 目标（当前）

| 维度 | 说明 |
|------|------|
| 周目标总时长 | 10 小时/周 |
| 记录方式 | 每次 coding 后可通过时间拨盘增加该项任务的时间记录（次数与时长不限） |

**功能要点**：每次 Vibe Coding 后可自由增加时长（次数与时间不限），自动汇总当周进度并与 10 小时目标对比。

### 2.3 扩展性（后续版本）

- 可灵活增加类型：听播客、看书等。
- 每种类型支持：名称、周目标时长、可选子类型（如健身下的篮球/健身房）。

---

## 三、用户故事

- 作为用户，我可以在任意时间「记录一次健身」并选择类型（篮球/健身房）和时长，以便系统自动累加当周进度。
- 作为用户，我可以在任意时间「记录一次 Vibe Coding」的时长，以便系统自动累加当周进度。
- 作为用户，我可以在首页看到「本周各目标进度条/百分比」，便于一眼判断是否达标。
- 作为用户，我可以在「历史/记录列表」中查看或编辑已记录条目（可选，按版本实现）。
- 作为用户，我通过浏览器收藏或桌面快捷方式即可访问，无需安装 App，且数据保存在本地。

---

## 四、功能与版本规划

### V1.0 — MVP（当前版本）

- **目标**：能用、好部署、界面简约好看。
- **功能**：
  - 两个固定目标：健身（5h/周）、Vibe Coding（10h/周）。
  - 健身：子类型选择「篮球」「健身房」+ 输入时长（分钟）。
  - Vibe Coding：仅输入时长（分钟）。
  - 首页展示「本周」两个目标的进度条与完成百分比。
  - 数据存储：本地 LocalStorage，按周（年+周号）聚合。
- **设计**：简约、色彩区分（健身/Vibe Coding 不同主色）、开源 icon（如 Lucide），不用 Emoji 当图标。
- **部署**：纯静态（HTML/CSS/JS），支持 GitHub Pages / Vercel / Netlify 等，便于「更易访问与部署」。

### V1.1 — 体验增强

- 本周记录列表：展示本条目的类型、时长、日期时间，支持删除错误记录。
- 简单提醒：浏览器通知或页面内「今日是否已记录」提示（可选）。
- 周切换：可查看上一周/下一周的目标与记录（只读）。

### V2.0 — 可配置目标

- 用户可自定义「目标类型」（如听播客、看书），并设置周目标时长。
- 部分类型可配置子类型（如健身下的篮球/健身房）。
- 数据仍以 LocalStorage 为主，结构可扩展为 JSON 配置 + 记录表。

### V3.0+（可选）

- 多端同步（需后端或云函数）。
- 统计与趋势图表。
- PWA：离线可用、可添加到主屏幕。

---

## 五、更易访问与部署方案

### 5.1 技术选型（V1）

- **前端**：纯 HTML5 + CSS3 + 原生 JavaScript，无构建依赖（或可选轻量构建）。
- **图标**：Lucide Icons（开源，CDN 引入），禁止使用 Emoji 作为功能图标。
- **数据**：LocalStorage，按「年-周」为 key 存储当周记录与汇总。

### 5.2 部署方式（任选其一）

| 方式 | 适用场景 | 操作要点 |
|------|----------|----------|
| **GitHub Pages** | 已有 GitHub 仓库 | 推送代码后，Settings → Pages → 选分支与目录（如 `/` 或 `/docs`） |
| **Vercel** | 希望自动 CI、自定义域名 | 关联仓库，根目录部署，无需额外配置 |
| **Netlify** | 同 Vercel | 拖拽 `dist` 或根目录，或关联 Git |
| **本地/内网** | 仅本机或局域网 | 用任意静态服务器（如 `npx serve .`）打开 `index.html` |

### 5.3 易于访问

- 部署后获得固定 URL，浏览器书签/手机主屏幕快捷方式即可。
- 若后续做 PWA，可「添加到主屏幕」，图标与启动画面可定制。

---

## 六、界面结构、跳转与交互关系

### 6.1 页面清单

| 页面编号 | 页面名称 | 路由/锚点 | 版本 |
|----------|----------|-----------|------|
| P1 | 首页 · 本周总览 | `#/home`（默认） | V1.0 |
| P2 | 添加记录 · 健身 | `#/add/fitness` | V1.0 |
| P3 | 添加记录 · Vibe Coding | `#/add/vibe` | V1.0 |
| P4 | 本周记录列表 | `#/records` | V1.1 |
| P5 | 设置 · 目标配置 | `#/settings` | V2.0 |

> V1.0 为单页应用，P2/P3 以 **底部弹出抽屉（Bottom Sheet）** 形式呈现，无真实路由跳转；P4/P5 留待后续版本实现。

---

### 6.2 页面跳转关系图（文字版）

```
┌─────────────────────────────────────────┐
│              P1  首页 · 本周总览          │  ← 应用启动默认落地页
│                                         │
│  [健身卡片]  ──── 点击「+ 记录」──────────┼──► P2  健身记录抽屉
│                                         │
│  [Vibe 卡片] ──── 点击「+ 记录」──────────┼──► P3  Vibe Coding 记录抽屉
│                                         │
│  底部 Tab: [总览] [记录] [设置]           │
│                ↓          ↓             │
│               P4         P5             │
└─────────────────────────────────────────┘

P2 / P3（底部抽屉）:
  ┌────────────────────┐
  │ 填写表单            │
  │ ↓ 点击「保存」       │──► 写入 LocalStorage → 关闭抽屉 → P1 进度刷新
  │ ↓ 点击「取消/关闭」  │──► 直接关闭，不写入数据
  └────────────────────┘

P4（记录列表，V1.1）:
  每条记录 ──── 右滑/长按 ──► 「删除」确认弹窗 ──► 删除后刷新列表 + P1 进度同步更新

P5（设置，V2.0）:
  目标类型列表 ──── 点击「编辑」──► 行内编辑或新抽屉 ──► 保存后返回设置列表
  目标类型列表 ──── 点击「+ 新增」──► 弹出「新建目标类型」表单 ──► 保存后列表刷新
```

---

### 6.3 各页面交互说明

#### P1 — 首页 · 本周总览

| 区域 | 元素 | 交互行为 |
|------|------|----------|
| 顶部 | 本周日期范围（如 Feb 24 – Mar 2） | 只读展示，V1.1 加入「< 上周 / 下周 >」切换 |
| 健身卡片 | 进度条、已完成时长/目标时长 | 只读；子类型（篮球/健身房）各自小进度 |
| 健身卡片 | 「+ 记录」按钮 | 触发 → 弹出 **P2 底部抽屉** |
| Vibe Coding 卡片 | 进度条、已完成时长/目标时长 | 只读 |
| Vibe Coding 卡片 | 「+ 记录」按钮 | 触发 → 弹出 **P3 底部抽屉** |
| 底部导航 | [总览] [记录] [设置] | 点击切换到对应页面；当前页高亮 |

---

#### P2 — 健身记录抽屉（Bottom Sheet）

| 步骤 | 元素 | 交互行为 |
|------|------|----------|
| 1 | 子类型选择 Tab | 「篮球」「健身房」二选一，默认无选中，必选 |
| 2 | 时长输入 | 数字滚轮/Picker：小时 (0–4) + 分钟 (0, 5, 10…55)，或直接输入分钟数 |
| 3 | 日期时间 | 默认「现在」，可点击修改为过去的时间（防漏记） |
| 4 | 备注（可选） | 单行文本，可留空 |
| 5 | 「保存」按钮 | 校验：子类型已选 + 时长 > 0 → 写入 LocalStorage → Toast 提示「已记录！」→ 抽屉关闭 |
| — | 抽屉顶部横杠/遮罩 | 下拉或点击遮罩 → 关闭抽屉，不保存 |

**校验规则**：子类型未选或时长为 0 时，「保存」按钮置灰并显示 inline 提示。

---

#### P3 — Vibe Coding 记录抽屉（Bottom Sheet）

| 步骤 | 元素 | 交互行为 |
|------|------|----------|
| 1 | 时长输入 | 同 P2（数字滚轮/Picker 或直接输入分钟数） |
| 2 | 日期时间 | 默认「现在」，可修改 |
| 3 | 备注（可选） | 单行文本，可留空 |
| 4 | 「保存」按钮 | 时长 > 0 → 写入 LocalStorage → Toast → 关闭抽屉 |
| — | 关闭 | 同 P2 |

---

#### P4 — 本周记录列表（V1.1）

| 区域 | 元素 | 交互行为 |
|------|------|----------|
| 列表项 | 类型 icon + 子类型 + 时长 + 日期 | 只读展示 |
| 列表项 | 右滑或长按 | 出现「删除」操作按钮 |
| 删除 | 点击「删除」 | 弹出确认 Dialog：「确认删除这条记录？」→ 确认 → 删除数据 → 列表 & P1 进度实时更新 |
| 筛选（可选） | 顶部「全部 / 健身 / Vibe」Tab | 切换后列表过滤，不影响数据 |

---

#### P5 — 设置 · 目标配置（V2.0）

| 区域 | 元素 | 交互行为 |
|------|------|----------|
| 目标列表 | 每项：名称 + 周目标时长 + 子类型标签 | 只读展示 |
| 目标列表 | 「编辑」icon | → 弹出「编辑目标」抽屉，修改名称/时长/子类型 |
| 目标列表 | 「+ 新增目标」按钮 | → 弹出「新建目标类型」表单抽屉 |
| 新增/编辑表单 | 名称、周目标时长、是否有子类型 | 保存 → 写入配置 → 关闭抽屉 → 列表与首页同步刷新 |

---

### 6.4 全局交互规范

| 规范项 | 说明 |
|--------|------|
| 底部抽屉动效 | 从底部上滑展开（300ms ease-out），关闭时下滑收起 |
| Toast 提示 | 操作成功后，底部居中显示 2 秒后自动消失 |
| 确认弹窗 | 仅删除操作需确认，其余操作即时生效 |
| 进度刷新 | 任何写入/删除操作后，P1 进度条与时长数字实时重渲染 |
| 空状态 | P4 无记录时展示「本周还没有记录，去记录吧~」+ 引导按钮 |
| 返回逻辑 | 抽屉内按手机物理/虚拟「返回键」= 关闭抽屉（不退出应用） |

---

## 七、界面与设计原则

- **简约**：信息层级清晰，主操作（添加记录、看进度）一步可达。
- **好看**：留白充足、圆角与阴影适度、字体层级分明。
- **色彩丰富**：健身用一套主色（如青绿/蓝绿），Vibe Coding 用另一套（如琥珀/橙），背景与卡片可区分。
- **图标**：全部采用 Lucide 等开源 icon，禁止用 Emoji 作为功能图标。
- **移动优先**：触控友好、按钮与输入区域足够大，桌面端同样可用。

---

## 八、数据与周历

- **周界定**：采用 ISO 8601 周（周一为一周开始），或可根据用户设置（如周日开始）在后续版本支持。
- **存储结构（示例）**：  
  `records_2026-W09` → 数组，每项：`{ type: 'fitness'|'vibe_coding', subType?: 'basketball'|'gym', minutes: number, date: ISO8601 }`  
  前端按周汇总 `type` 与可选 `subType` 得到各目标进度。

---

## 九、成功标准（V1）

- 用户能在 30 秒内完成一次「健身」或「Vibe Coding」记录。
- 首页能正确展示「本周」两个目标的进度与是否达标。
- 刷新或关闭后再打开，数据不丢失。
- 在手机与桌面浏览器上均可正常使用，界面简约、色彩区分明确、无 Emoji 图标。

---

*文档版本：V1 | 更新日期：2026-02-25*
